(this["webpackJsonpgot-ice-fire"]=this["webpackJsonpgot-ice-fire"]||[]).push([[0],{141:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var r,c=n(2),a=n(1),s=n.n(a),i=n(28),o=n.n(i),u=n(9),l=n(39),j=n(74),d=n(169),b=(n(87),n(88),n(89),n(22)),h=n(10),f=n(68),O=n.n(f),p=n(30),v=n.n(p),x=(n(90),s.a.forwardRef((function(e,t){return Object(c.jsx)("header",{ref:t,className:"primary-header headroom",children:Object(c.jsxs)("div",{className:"primary-header__container",children:[Object(c.jsx)("h1",{className:"primary-header__title",children:Object(c.jsx)(h.b,{to:"/",children:"GOT"})}),Object(c.jsxs)("nav",{className:"primary-header__nav",children:[Object(c.jsx)(h.c,{exact:!0,to:"/",className:"primary-header__nav__item",activeClassName:"primary-header__nav__item--active",children:"Books"}),Object(c.jsx)(h.c,{to:"/houses",className:"primary-header__nav__item",activeClassName:"primary-header__nav__item--active",children:"Houses"}),Object(c.jsx)(h.c,{to:"/characters",className:"primary-header__nav__item",activeClassName:"primary-header__nav__item--active",children:"Characters"})]})]})})}))),m=n(11),g=n(8),k=n(170),y="https://www.anapioficeandfire.com/api",N="http://covers.openlibrary.org/b/isbn";!function(e){e.Small="S",e.Medium="M",e.Large="L"}(r||(r={}));var C,S,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Small;return"".concat(N,"/").concat(e,"-").concat(t,".jpg")},B=function(e){return!e||e&&0===e.length},U=function(e){return null===e||void 0===e||0===(null===e||void 0===e?void 0:e.length)},P=function(){window.history.back()},_=function(e){var t=new URL(null!==e&&void 0!==e?e:"").searchParams.get("page");return t?+t:0},H=function(e,t){var n=e.filter((function(e){return e.rel===t})),r=Object(b.a)(n,1)[0];return r?r.uri:""},A=function(e){var t,n=new URL(e).pathname;return t=n.split("/"),B(t)?null:t[t.length-1]},L=function(e){return U(e)?"N/A":e},M=n(7),z=n.n(M),F=n(16),T=n(18),E=n(36),D=n.n(E),G=n(31),R=n.n(G),I=n(69),W=n(46),V=n.n(W),J=V.a.createInstance({driver:[V.a.INDEXEDDB,V.a.LOCALSTORAGE],name:"got-cache"}),X=R.a.create({baseURL:y,adapter:Object(I.setupCache)({maxAge:18e5,store:J}).adapter}),q={getBooks:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/books"),{params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookById:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/books/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHouses:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/houses"),{params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHouseById:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/houses/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCharacters:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/characters"),{params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCharacterById:function(){var e=Object(F.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.get("".concat(y,"/characters/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDataByUri:function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",X.get(t,Object(g.a)({},n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=Object(T.b)("@fetch/fetchGotBooks",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r,c,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBooks(t);case 2:return n=e.sent,r=n.data,c=D.a.parse(n.headers.link),a=c.refs,e.abrupt("return",{results:r,links:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=Object(T.b)("@fetch/fetchGotBookById",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBookById(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(T.b)("@fetch/fetchGotBooksByUri",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r,c,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getDataByUri(t);case 2:return n=e.sent,r=n.data,c=D.a.parse(n.headers.link),a=c.refs,e.abrupt("return",{results:r,links:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(T.b)("@fetch/fetchGotHouses",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r,c,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getHouses(t);case 2:return n=e.sent,r=n.data,c=D.a.parse(n.headers.link),a=c.refs,e.abrupt("return",{results:r,links:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$=Object(T.b)("@fetch/fetchGotHouseById",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getHouseById(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee=Object(T.b)("@fetch/getGotCharacters",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r,c,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getCharacters(t);case 2:return n=e.sent,r=n.data,c=D.a.parse(n.headers.link),a=c.refs,e.abrupt("return",{results:r,links:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te=Object(T.b)("@fetch/fetchGotCharacterById",function(){var e=Object(F.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getCharacterById(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ne=function(){return new URLSearchParams(Object(m.g)().search)},re=n(5),ce=n(70),ae=n.n(ce),se=(n(141),function(){return Object(c.jsx)("div",{className:"page-loader",children:Object(c.jsx)(ae.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})})}),ie=function(e){var t=e.title,n=e.children,r=e.isLoading,a=e.className;return Object(c.jsx)("div",{className:v()("page",Object(re.a)({},"".concat(a),a)),children:r?Object(c.jsx)(se,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.a,{children:Object(c.jsx)("title",{children:t})}),n]})})},oe=n(45),ue=n(47),le=n(53),je=(n(143),function(e){var t=e.columns,n=e.data,r=e.initialState,a=Object(ue.useTable)({columns:t,data:n,initialState:r},ue.useFilters,ue.useSortBy),s=a.getTableProps,i=a.getTableBodyProps,o=a.headerGroups,u=a.rows,l=a.prepareRow;return Object(c.jsx)("div",{className:"data-table",children:Object(c.jsxs)("table",Object(g.a)(Object(g.a)({},s()),{},{children:[Object(c.jsx)("thead",{children:o.map((function(e){return Object(c.jsx)("tr",Object(g.a)(Object(g.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(c.jsxs)("th",Object(g.a)(Object(g.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[Object(c.jsx)("span",{className:"header-label",children:e.render("Header")}),(null===e||void 0===e?void 0:e.isSorted)&&Object(c.jsx)("span",{className:"data-table__sort-icon",children:(null===e||void 0===e?void 0:e.isSortedDesc)?Object(c.jsx)(le.a,{}):Object(c.jsx)(le.b,{})}),(null===e||void 0===e?void 0:e.canFilter)&&e.filter&&e.render("Filter")]}))}))}))}))}),Object(c.jsx)("tbody",Object(g.a)(Object(g.a)({},i()),{},{children:u.map((function(e,t){return l(e),Object(c.jsx)("tr",Object(g.a)(Object(g.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(c.jsx)("td",Object(g.a)(Object(g.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})}),de=function(e){var t=e.column,n=t.filterValue,r=t.setFilter,a=t.preFilteredRows,i=t.id,o=s.a.useMemo((function(){var e=new Set;return a.forEach((function(t){!U(t.values[i])&&e.add(t.values[i])})),Object(oe.a)(e)}),[i,a]);return Object(c.jsxs)("select",{value:n,onChange:function(e){return e.currentTarget.blur()},onBlur:function(e){r(e.target.value||void 0)},children:[Object(c.jsx)("option",{value:"",children:"All"}),o.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})},be=(n(144),function(e){var t=e.pageCount,n=e.currentPage,r=e.pageSize,s=e.prevUri,i=e.nextUri,o=e.lastUri,u=Object(m.f)(),l=ne(),j=Object(a.useCallback)((function(e,t){e.preventDefault(),l.set("page","".concat(t)),u.push({search:l.toString()})}),[l,u]),d=Object(a.useCallback)((function(e){e.preventDefault(),l.set("pageSize","".concat(e.currentTarget.value)),u.push({search:l.toString()})}),[l,u]);return Object(c.jsxs)("div",{className:"pagination",children:[Object(c.jsx)("button",{className:"pagination__button-prev",onClick:function(e){return j(e,_(s))},disabled:U(s),children:"Prev"}),t>0&&Array.from(Array(t).keys()).map((function(e){return Object(c.jsx)("button",{className:v()("pagination__button-page",{"pagination__button-page--active":n===e+1}),onClick:function(t){return j(t,e+1)},disabled:n===e+1,children:e+1},"page-".concat(e))})),!U(o)&&Object(c.jsx)("button",{className:"pagination__button-last",onClick:function(e){return j(e,_(o))},disabled:n===_(o),children:"Last"}),Object(c.jsx)("button",{className:"pagination__button-next",onClick:function(e){return j(e,_(i))},disabled:U(i),children:"Next"}),Object(c.jsxs)("select",{onChange:function(e){return e.currentTarget.blur()},onBlur:function(e){return d(e)},value:"".concat(r),children:[Object(c.jsx)("option",{value:"5",children:"5"}),Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"20",children:"20"}),Object(c.jsx)("option",{value:"30",children:"30"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"})]})]})}),he=function(){var e=ne(),t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).books,i=Object(u.b)(),o=e.get("page"),l=e.get("pageSize"),j=Object(a.useState)({currentPage:0,pageSize:0,pageCount:1,nextUri:"",prevUri:"",lastUri:""}),d=Object(b.a)(j,2),f=d[0],O=d[1];Object(a.useEffect)((function(){O((function(e){return Object(g.a)(Object(g.a)({},e),{},{currentPage:null!==o?+o:1,pageSize:null!==l?+l:5})}))}),[o,l]),Object(a.useEffect)((function(){if(f.currentPage&&f.pageSize){var e=i(K({page:f.currentPage,pageSize:f.pageSize}));return function(){e.abort()}}}),[f.currentPage,f.pageSize,i]),Object(a.useEffect)((function(){if(!B(n.links)){var e=H(n.links,"next"),t=H(n.links,"prev"),r=H(n.links,"last"),c=_(r);O((function(n){return Object(g.a)(Object(g.a)({},n),{},{nextUri:e,prevUri:t,lastUri:r,pageCount:c})}))}}),[n.links]);var p=Object(a.useMemo)((function(){return[{Header:"",accessor:"isbn",Cell:function(e){var t=e.row.original;return Object(c.jsx)(h.b,{to:"/book/".concat(A(t.url)),children:Object(c.jsx)("img",{className:"thumbnail",src:w(t.isbn,r.Medium),alt:t.name})})}},{Header:"Title",accessor:"name",Cell:function(e){var t=e.row.original;return Object(c.jsx)(h.b,{className:"link",to:"/book/".concat(A(t.url)),children:t.name})}},{Header:"Authors",accessor:"authors"},{Header:"Release Date",accessor:"released",Cell:function(e){return Object(k.a)(new Date(e.value),"MM/dd/yyyy")}},{Header:"Publisher",accessor:"publisher"},{Header:"Country",accessor:"country"},{Header:"Format",accessor:"mediaType"},{Header:"Page",accessor:"numberOfPages",Cell:function(e){var t=e.value;return Object(c.jsxs)("span",{children:[t," pages"]})}}]}),[]);return s.a.useMemo((function(){return Object(c.jsxs)(ie,{title:"GOT | Books",className:"books",isLoading:t,children:[Object(c.jsx)(je,{columns:p,data:n.results,initialState:{sortBy:[{id:"name",desc:!1}]}}),Object(c.jsx)(be,{pageCount:f.pageCount,currentPage:f.currentPage,pageSize:f.pageSize,prevUri:f.prevUri,nextUri:f.nextUri,lastUri:f.lastUri})]})}),[n,p,t,f])},fe=n(171),Oe=n(167),pe=n(168),ve=n(44),xe=Object(T.c)({name:"services",initialState:{books:{results:[],links:[]},houses:{results:[],links:[]},characters:{results:[],links:[]},book:{},house:{},character:{}},reducers:{resetBookState:function(e){e.book={}},resetHouseState:function(e){e.house={}},resetCharacterState:function(e){e.character={}}},extraReducers:(C={},Object(re.a)(C,"".concat(K.fulfilled),(function(e,t){var n=t.payload;e.books.results=n.results,e.books.links=n.links})),Object(re.a)(C,"".concat(Q.fulfilled),(function(e,t){var n=t.payload;e.book=n})),Object(re.a)(C,"".concat(Y.fulfilled),(function(e,t){var n=t.payload;e.books.results=n.results,e.books.links=n.links})),Object(re.a)(C,"".concat(Z.fulfilled),(function(e,t){var n=t.payload;e.houses.results=n.results,e.houses.links=n.links})),Object(re.a)(C,"".concat($.fulfilled),(function(e,t){var n=t.payload;e.house=n})),Object(re.a)(C,"".concat(ee.fulfilled),(function(e,t){var n=t.payload;e.characters.results=n.results,e.characters.links=n.links})),Object(re.a)(C,"".concat(te.fulfilled),(function(e,t){var n=t.payload;e.character=n})),C)}),me=xe.reducer,ge=(n(145),function(e){var t=e.uri,n=e.href,r=e.labelByProp,i=Object(a.useState)(null),o=Object(b.a)(i,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){var e=R.a.CancelToken.source();return q.getDataByUri(t,{cancelToken:e.token}).then((function(e){var t,n=e.data;l(null!==(t=n[r])&&void 0!==t?t:"")})).catch((function(e){})),function(){return e.cancel()}}),[t,r]),s.a.useMemo((function(){return Object(c.jsx)("span",{className:"link-crawl",children:Object(c.jsx)(h.b,{className:"link",to:n,children:L(u)})})}),[n,u])}),ke=function(e,t,n){return!U(e)&&Object(c.jsx)(ge,{uri:e,href:"/".concat(t,"/").concat(A(e)),labelByProp:n})},ye=function(e,t,n){var r=e;return B(r)?"":r.map((function(e,r){return Object(c.jsx)(ge,{uri:e,href:"/".concat(t,"/").concat(A(e)),labelByProp:n},"".concat(e))}))},Ne=(n(146),function(){var e=Object(m.h)().id,t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).book,i=Object(u.b)(),o=xe.actions.resetBookState;return Object(a.useEffect)((function(){if(e){var t=i(Q(e));return function(){t.abort(),i(o())}}}),[e,i,o]),s.a.useMemo((function(){return Object(c.jsxs)(ie,{title:"GOT | Book: ".concat(L(n.name)),className:"book-details",isLoading:t,children:[Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(Oe.a,{onClick:function(e){return P()},children:Object(c.jsx)(ve.a,{})}),Object(c.jsx)("h3",{children:L(n.name)})]}),Object(c.jsx)(pe.a,{elevation:2,children:Object(c.jsxs)("div",{className:"inset-padding",children:[Object(c.jsx)("div",{className:"paper-container",children:Object(c.jsx)("h2",{children:L(n.name)})}),Object(c.jsxs)("div",{className:"paper-container",children:[Object(c.jsx)("div",{className:"book-cover",children:Object(c.jsx)("img",{src:w(n.isbn,r.Medium),alt:L(n.name)})}),Object(c.jsxs)("div",{className:"book-info",children:[Object(c.jsx)("h3",{children:"Book Details"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"ISBN:"})," ",L(n.isbn)]}),Object(c.jsxs)("p",{children:[Object(c.jsxs)("b",{children:[n.mediaType,":"]})," ",L(n.numberOfPages)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Authors:"})," ",(null===n||void 0===n?void 0:n.authors)&&(null===n||void 0===n?void 0:n.authors.join(", "))]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Publisher:"})," ",L(n.publisher)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Country:"})," ",L(n.country)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Released:"}),U(n.released)?"N/A":Object(k.a)(new Date(n.released),"MMMM dd, yyyy")]})]}),Object(c.jsxs)("div",{className:"characters",children:[Object(c.jsx)("h3",{children:"Characters"}),Object(c.jsx)("div",{className:"list",children:B(n.characters)?"N/A":ye(n.characters,"character","name")})]}),Object(c.jsxs)("div",{className:"characters",children:[Object(c.jsx)("h3",{children:"POV Characters"}),Object(c.jsx)("div",{className:"list",children:B(n.povCharacters)?"N/A":ye(n.povCharacters,"character","name")})]})]})]})})]})}),[n,t])}),Ce=function(){var e=ne(),t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).houses,r=Object(u.b)(),i=e.get("page"),o=e.get("pageSize"),l=Object(a.useState)({currentPage:0,pageSize:0,pageCount:1,nextUri:"",prevUri:"",lastUri:""}),j=Object(b.a)(l,2),d=j[0],f=j[1];Object(a.useEffect)((function(){f((function(e){return Object(g.a)(Object(g.a)({},e),{},{currentPage:null!==i?+i:1,pageSize:null!==o?+o:20})}))}),[i,o]),Object(a.useEffect)((function(){if(d.currentPage&&d.pageSize){var e=r(Z({page:d.currentPage,pageSize:d.pageSize}));return function(){e.abort()}}}),[d.currentPage,d.pageSize,r]),Object(a.useEffect)((function(){if(!B(n.links)){var e=H(n.links,"next"),t=H(n.links,"prev"),r=H(n.links,"last"),c=_(r);f((function(n){return Object(g.a)(Object(g.a)({},n),{},{nextUri:e,prevUri:t,lastUri:r,pageCount:c})}))}}),[n.links]);var O=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Cell:function(e){var t=e.row.original,n=A(t.url);return Object(c.jsx)(h.b,{className:"link",to:"/house/".concat(n),children:t.name})}},{Header:"Region",accessor:"region"},{Header:"Overlord",accessor:"overlord",Cell:function(e){return ke(e.value,"house","name")}},{Header:"Current Lord",accessor:"currentLord",Cell:function(e){return ke(e.value,"character","name")}},{Header:"Details",accessor:"titles",maxWidth:250,Cell:function(e){var t=e.row.original;return Object(c.jsxs)("div",{className:"details-column-content",children:[Object(c.jsxs)("div",{className:"founded",children:[Object(c.jsx)("h4",{children:"Founded"}),t.founded?t.founded:"N/A"]}),Object(c.jsxs)("div",{className:"founder",children:[Object(c.jsx)("h4",{children:"Founder"}),t.founder?ke(t.founder,"character","name"):"N/A"]}),Object(c.jsxs)("div",{className:"founder",children:[Object(c.jsx)("h4",{children:"Heir"}),t.heir?ke(t.heir,"character","name"):"N/A"]}),Object(c.jsxs)("div",{className:"titles",children:[Object(c.jsx)("h4",{children:"Titles"}),B(t.titles)?"N/A":t.titles.map((function(e){return Object(c.jsx)("p",{children:e},e)}))]}),Object(c.jsxs)("div",{className:"coat-of-arms",children:[Object(c.jsx)("h4",{children:"Coat of Arms"}),t.coatOfArms]}),Object(c.jsxs)("div",{className:"words",children:[Object(c.jsx)("h4",{children:"Words"}),t.words]}),Object(c.jsxs)("div",{className:"sworn-members",children:[Object(c.jsx)("h4",{children:"Sworn Members"}),t.swornMembers?ye(t.swornMembers,"character","name"):"N/A"]})]})}}]}),[]);return s.a.useMemo((function(){return Object(c.jsxs)(ie,{title:"GOT | Houses",className:"houses",isLoading:t,children:[Object(c.jsx)(je,{columns:O,data:n.results,initialState:{sortBy:[{id:"name",desc:!1}]}}),Object(c.jsx)(be,{pageCount:d.pageCount,currentPage:d.currentPage,pageSize:d.pageSize,prevUri:d.prevUri,nextUri:d.nextUri,lastUri:d.lastUri})]})}),[n,O,t,d])},Se=(n(149),function(){var e=Object(m.h)().id,t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).house,r=Object(u.b)(),i=xe.actions.resetHouseState;return Object(a.useEffect)((function(){if(e){var t=r($(e));return function(){r(i()),t.abort()}}}),[e,r,i]),s.a.useMemo((function(){var e,r,a;return Object(c.jsxs)(ie,{title:"GOT | House: ".concat(null===n||void 0===n?void 0:n.name),className:"house-details",isLoading:t,children:[Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(Oe.a,{onClick:function(e){return P()},children:Object(c.jsx)(ve.a,{})}),Object(c.jsx)("h3",{children:n.name?n.name:"N/A"})]}),Object(c.jsx)(pe.a,{elevation:2,children:Object(c.jsxs)("div",{className:"inset-padding",children:[Object(c.jsx)("div",{className:"paper-container",children:Object(c.jsx)("h2",{children:n.name?n.name:"N/A"})}),Object(c.jsxs)("div",{className:"paper-container",children:[Object(c.jsxs)("div",{className:"house-info",children:[Object(c.jsx)("h3",{children:"House Details"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Overlord:"})," ",ke(n.overlord,"house","name")]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Founded:"})," ",L(n.founded)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Founder:"})," ",ke(n.founder,"character","name")]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Dead:"})," ",L(n.diedOut)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Region:"})," ",L(n.region)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Cost of Arms:"})," ",L(n.coatOfArms)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Words:"})," ",L(n.words)]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Ancestral Weapons:"})," ",L(null===n||void 0===n||null===(e=n.ancestralWeapons)||void 0===e?void 0:e.join(", "))]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Titles:"})," ",L(null===n||void 0===n||null===(r=n.titles)||void 0===r?void 0:r.join(", "))]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Seats:"})," ",L(null===n||void 0===n||null===(a=n.seats)||void 0===a?void 0:a.join(", "))]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Current Lord:"})," ",ke(n.currentLord,"character","name")]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Heir:"})," ",U(n.heir)?"N/A":ke(n.heir,"character","name")]})]}),Object(c.jsxs)("div",{className:"characters",children:[Object(c.jsx)("h3",{children:"Cadet Branches"}),Object(c.jsx)("div",{className:"list",children:B(n.cadetBranches)?"N/A":ye(n.cadetBranches,"house","name")})]}),Object(c.jsxs)("div",{className:"characters",children:[Object(c.jsx)("h3",{children:"Sworn Members"}),Object(c.jsx)("div",{className:"list",children:B(n.swornMembers)?"N/A":ye(n.swornMembers,"character","name")})]})]})]})})]})}),[n,t])}),we=function(){var e=ne(),t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).characters,r=Object(u.b)(),s=e.get("page"),i=e.get("pageSize"),o=Object(a.useState)({currentPage:0,pageSize:0,pageCount:1,nextUri:"",prevUri:"",lastUri:""}),l=Object(b.a)(o,2),j=l[0],d=l[1];Object(a.useEffect)((function(){d((function(e){return Object(g.a)(Object(g.a)({},e),{},{currentPage:null!==s?+s:1,pageSize:null!==i?+i:30})}))}),[s,i]),Object(a.useEffect)((function(){if(j.currentPage&&j.pageSize){var e=r(ee({page:j.currentPage,pageSize:j.pageSize}));return function(){e.abort()}}}),[j.currentPage,j.pageSize,r]),Object(a.useEffect)((function(){if(!B(n.links)){var e=H(n.links,"next"),t=H(n.links,"prev"),r=H(n.links,"last"),c=_(r);d((function(n){return Object(g.a)(Object(g.a)({},n),{},{nextUri:e,prevUri:t,lastUri:r,pageCount:c})}))}}),[n.links]);var f=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Cell:function(e){var t=e.row.original,n=A(t.url);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h.b,{to:"/character/".concat(n),children:U(t.name)?"N/A":t.name}),!B(t.aliases)&&Object(c.jsxs)("div",{className:"aliases",children:[Object(c.jsx)("h5",{children:"Aliases:"}),t.aliases.map((function(e){return Object(c.jsx)("p",{children:e},e)}))]})]})}},{Header:"Gender",accessor:"gender",Filter:de,disableSortBy:!0,filter:"includes"},{Header:"Culture",accessor:"culture",Filter:de,disableSortBy:!0,filter:"includes"},{Header:"Family",accessor:"father",Cell:function(e){var t=e.row.original;return Object(c.jsxs)("div",{children:[!U(t.father)&&Object(c.jsxs)("span",{children:["Father ",ke(t.father,"character","name")]}),!U(t.mother)&&Object(c.jsxs)("span",{children:["Mother ",ke(t.mother,"character","name")]}),!U(t.spouse)&&Object(c.jsxs)("span",{children:["Spouse ",ke(t.spouse,"character","name")]})]})}},{Header:"Allegiances",accessor:"allegiances",Cell:function(e){return ye(e.value,"house","name")}},{Header:"Books",accessor:"books",Cell:function(e){return ye(e.value,"book","name")},Filter:Be,filter:"includes",disableSortBy:!0},{Header:"POV Books",accessor:"povBooks",Cell:function(e){return ye(e.value,"book","name")}}]}),[]);return Object(a.useMemo)((function(){return Object(c.jsxs)(ie,{title:"GOT | Characters",className:"characters",isLoading:t,children:[Object(c.jsx)(je,{columns:f,data:n.results}),Object(c.jsx)(be,{pageCount:j.pageCount,currentPage:j.currentPage,pageSize:j.pageSize,prevUri:j.prevUri,nextUri:j.nextUri,lastUri:j.lastUri})]})}),[n,f,j,t])},Be=function(e){var t=e.column,n=t.filterValue,r=t.setFilter,a=t.preFilteredRows,i=t.id,o=s.a.useMemo((function(){var e=new Set;return a.forEach((function(t){!B(t.values[i])&&t.values[i].forEach((function(t){e.add(t)}))})),Object(oe.a)(e)}),[i,a]);return Object(c.jsxs)("select",{value:n,onChange:function(e){return e.currentTarget.blur()},onBlur:function(e){r(e.target.value||void 0)},children:[Object(c.jsx)("option",{value:"",children:"All"}),o.map((function(e,t){return Object(c.jsx)("option",{value:e,children:"Book ".concat(A(e))},t)}))]})},Ue=function(){var e=Object(m.h)().id,t=Object(u.c)((function(e){return e.layouts})).isLoading,n=Object(u.c)((function(e){return e.services})).character,r=Object(u.b)(),i=xe.actions.resetCharacterState;return Object(a.useEffect)((function(){if(e){var t=r(te(e));return function(){r(i()),t.abort()}}}),[e,r,i]),s.a.useMemo((function(){return Object(c.jsxs)(ie,{title:"GOT | Character: ".concat(n.name?n.name:"N/A"),className:"character-details",isLoading:t,children:[Object(c.jsx)("button",{onClick:function(e){return P()},children:"Back"}),Object(c.jsx)("pre",{children:Object(c.jsx)("code",{children:JSON.stringify(n,null,"  ")})})]})}),[n,t])},Pe=function(){return Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{exact:!0,path:"/",component:he}),Object(c.jsx)(m.a,{path:"/book/:id",component:Ne}),Object(c.jsx)(m.a,{path:"/houses",component:Ce}),Object(c.jsx)(m.a,{path:"/house/:id",component:Se}),Object(c.jsx)(m.a,{path:"/characters",component:we}),Object(c.jsx)(m.a,{path:"/character/:id",component:Ue})]})},_e=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(b.a)(t,2),r=n[0],s=n[1],i=function(){s(!0)},o=function(){s(!1)};return Object(a.useEffect)((function(){var t=e.current;if(null!==t){var n=new O.a(t,{tolerance:{up:5,down:5},onPin:i,onUnpin:o});return n.init(),function(){n.destroy()}}}),[]),Object(c.jsx)("div",{className:v()("main-container",{"main-container--header-pinned":r,"main-container--header-unpinned":!r}),children:Object(c.jsxs)(h.a,{children:[Object(c.jsx)(x,{ref:e}),Object(c.jsx)("main",{children:Object(c.jsx)(Pe,{})}),Object(c.jsx)("footer",{className:"footer",children:Object(c.jsx)("div",{className:"footer__container",children:Object(c.jsx)("p",{className:"footer__copyright",children:"License Copyright: Unknown. "})})})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Ae=n(20),Le=function(e,t){e.isLoading=t},Me=Object(T.c)({name:"layouts",initialState:{breakpoint:null,isLoading:!1},reducers:{breakpointChange:function(e,t){e.breakpoint=t.payload}},extraReducers:(S={},Object(re.a)(S,"".concat(K.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(Q.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(Y.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(Z.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat($.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(ee.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(te.pending),(function(e){return Le(e,!0)})),Object(re.a)(S,"".concat(K.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Q.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Y.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Z.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat($.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(ee.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(te.fulfilled),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(K.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Q.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Y.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(Z.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat($.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(ee.rejected),(function(e){return Le(e,!1)})),Object(re.a)(S,"".concat(te.rejected),(function(e){return Le(e,!1)})),S)}).reducer,ze=Object(Ae.c)({layouts:Me,services:me}),Fe=Object(T.a)({reducer:ze}),Te=Object(j.a)({typography:{fontFamily:["Poppins","sans-serif"].join(",")}});o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(u.a,{store:Fe,children:Object(c.jsx)(l.b,{children:Object(c.jsx)(d.a,{theme:Te,children:Object(c.jsx)(_e,{})})})})}),document.getElementById("root")),He()},89:function(e,t,n){},90:function(e,t,n){}},[[150,1,2]]]);
//# sourceMappingURL=main.9c45b942.chunk.js.map